{"uid":"5ced3fbde699f887","name":"Test the Geoserver headers","fullName":"tests.00-georchestra-base.test_georchestra_headers#test_geoserver_wms_no_double_access_control_allow_origin","historyId":"4e12e5606eb1439b1a5f31778192d41d","time":{"start":1745932130785,"stop":1745932130838,"duration":53},"description":"This test attempts to load GeoNetwork.","descriptionHtml":"<p>This test attempts to load GeoNetwork.</p>\n","status":"failed","statusMessage":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert 'http://localhost:1234/' == 'https://geor...-0-0-1.nip.io'\n  \n  - https://georchestra-127-0-0-1.nip.io\n  + http://localhost:1234/","statusTrace":"base_url = 'https://georchestra-127-0-0-1.nip.io'\n\n    @allure.epic(\"Geoserver\")\n    @allure.feature(\"Headers\")\n    @allure.description(\"This test attempts to load GeoNetwork.\")\n    @allure.title(\"Test the Geoserver headers\")\n    def test_geoserver_wms_no_double_access_control_allow_origin(base_url: str):\n        url = base_url + \"/geoserver/wms\"\n        headers = {\"Origin\": \"http://localhost:1234/\"}\n    \n        response = requests.get(url, headers=headers, verify=False)\n        response.raise_for_status()\n    \n        access_control_allow_origin_header = response.headers.get(\"Access-Control-Allow-Origin\")\n        # If two headers are present (e.g * and *) response.headers.get(\"Access-Control-Allow-Origin\") returns \"*, *\"\n>       assert access_control_allow_origin_header == \"https://georchestra-127-0-0-1.nip.io\", \\\n            \"There should be only one header with Access-Control-Allow-Origin\"\nE       AssertionError: There should be only one header with Access-Control-Allow-Origin\nE       assert 'http://localhost:1234/' == 'https://geor...-0-0-1.nip.io'\nE         \nE         - https://georchestra-127-0-0-1.nip.io\nE         + http://localhost:1234/\n\ntests/00-georchestra-base/test_georchestra_headers.py:34: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1745931816275,"stop":1745931816275,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1745931816276,"stop":1745931816276,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1745931816276,"stop":1745931816276,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1745931816276,"stop":1745931816276,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"afterStages":[],"labels":[{"name":"epic","value":"Geoserver"},{"name":"feature","value":"Headers"},{"name":"parentSuite","value":"tests.00-georchestra-base"},{"name":"suite","value":"test_georchestra_headers"},{"name":"host","value":"fv-az2233-636"},{"name":"thread","value":"17973-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.00-georchestra-base.test_georchestra_headers"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"68232fd7a261c47b","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert 'http://localhost:1234/' == 'https://geor...-0-0-1.nip.io'\n  \n  - https://georchestra-127-0-0-1.nip.io\n  + http://localhost:1234/","time":{"start":1745932130712,"stop":1745932130777,"duration":65}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":13,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":13},"items":[{"uid":"1eb3e9ab61adb6e3","reportUrl":"https://georchestra.github.io/e2e-tests/111//#testresult/1eb3e9ab61adb6e3","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert 'https://geor...-0-0-1.nip.io' == '*'\n  \n  - *\n  + https://georchestra-127-0-0-1.nip.io","time":{"start":1745930809720,"stop":1745930809808,"duration":88}},{"uid":"13b39bf92e332276","reportUrl":"https://georchestra.github.io/e2e-tests/111//#testresult/13b39bf92e332276","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1745920872048,"stop":1745920872106,"duration":58}},{"uid":"e8021550530777d9","reportUrl":"https://georchestra.github.io/e2e-tests/110//#testresult/e8021550530777d9","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1745919809338,"stop":1745919809422,"duration":84}},{"uid":"170fce7a03890661","reportUrl":"https://georchestra.github.io/e2e-tests/109//#testresult/170fce7a03890661","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1745815161003,"stop":1745815161072,"duration":69}},{"uid":"2bb43d73008a4385","reportUrl":"https://georchestra.github.io/e2e-tests/108//#testresult/2bb43d73008a4385","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1745210267978,"stop":1745210268079,"duration":101}},{"uid":"6edc5c7525fb79f1","reportUrl":"https://georchestra.github.io/e2e-tests/107//#testresult/6edc5c7525fb79f1","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1744605550688,"stop":1744605550730,"duration":42}},{"uid":"ecb8196e24673160","reportUrl":"https://georchestra.github.io/e2e-tests/106//#testresult/ecb8196e24673160","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1744000614371,"stop":1744000614464,"duration":93}},{"uid":"357a31433cf63c5a","reportUrl":"https://georchestra.github.io/e2e-tests/105//#testresult/357a31433cf63c5a","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1743395860472,"stop":1743395860542,"duration":70}},{"uid":"6e322a7d434a0767","reportUrl":"https://georchestra.github.io/e2e-tests/104//#testresult/6e322a7d434a0767","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1742791099116,"stop":1742791099203,"duration":87}},{"uid":"7d69015f6c5b2fd0","reportUrl":"https://georchestra.github.io/e2e-tests/103//#testresult/7d69015f6c5b2fd0","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1742186197027,"stop":1742186197119,"duration":92}},{"uid":"5d74cd0c3da1c6e8","reportUrl":"https://georchestra.github.io/e2e-tests/102//#testresult/5d74cd0c3da1c6e8","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1741959636219,"stop":1741959636332,"duration":113}},{"uid":"43aa34f4fe92f64b","reportUrl":"https://georchestra.github.io/e2e-tests/100//#testresult/43aa34f4fe92f64b","status":"failed","statusDetails":"AssertionError: There should be only one header with Access-Control-Allow-Origin\nassert '*, https://g...-0-0-1.nip.io' == '*'\n  \n  - *\n  + *, https://georchestra-127-0-0-1.nip.io","time":{"start":1741958988808,"stop":1741958988874,"duration":66}}]},"tags":[]},"source":"5ced3fbde699f887.json","parameterValues":[]}