{"uid":"a5038a9cc7bd960c","name":"Test the Datafeeder webapp and links","fullName":"tests.georchestra-base.test_ingest_data#test_import_shp_datafeeder","historyId":"a37b07ec0b274692badb0673e2a84f93","time":{"start":1738665784054,"stop":1738665818514,"duration":34460},"description":"This test attempts to load a SHP file through datafeeder and check links.","descriptionHtml":"<p>This test attempts to load a SHP file through datafeeder and check links.</p>\n","status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"button\", name=\"-\", exact=True)","statusTrace":"page = <Page url='https://georchestra-127-0-0-1.nip.io/import/'>\n\n    @allure.feature(\"geOrchestra\")\n    @allure.story(\"Datafeeder\")\n    @allure.description(\"This test attempts to load a SHP file through datafeeder and check links.\")\n    @allure.title(\"Test the Datafeeder webapp and links\")\n    @pytest.mark.skipif(condition=ConfigurationManager.write_tests_disabled(), reason=\"This test is skipped because the environment variable 'tmp' is set to 'true'.\")\n    def test_import_shp_datafeeder(page: Page):\n        login(page)\n        page.goto(\"/import/\")\n        screenshot_page(page, \"datafeeder\")\n        page.locator(\"input#undefined\").first.set_input_files(os.path.abspath(\"./fixtures/antenne.zip\"))\n        page.get_by_role(\"checkbox\").check()\n        page.get_by_role(\"button\", name=\"Upload\").click()\n>       page.get_by_role(\"button\", name=\"-\", exact=True).click()\n\ntests/georchestra-base/test_ingest_data.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/playwright/sync_api/_generated.py:15464: in click\n    self._sync(\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/playwright/_impl/_locator.py:156: in click\n    return await self._frame.click(self._selector, strict=True, **params)\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/playwright/_impl/_frame.py:488: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:61: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7fcb53fed250>\ncb = <function Channel.send.<locals>.<lambda> at 0x7fcb52a25d00>\nis_internal = False\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(task, \"__pw_stack__\", inspect.stack())\n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"button\", name=\"-\", exact=True)\n\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:528: TimeoutError","flaky":true,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"delete_output_dir","time":{"start":1738665602658,"stop":1738665602658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"base_url","time":{"start":1738665602658,"stop":1738665602658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"pytestconfig","time":{"start":1738665602658,"stop":1738665602658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"_verify_url","time":{"start":1738665602658,"stop":1738665602659,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"playwright","time":{"start":1738665602659,"stop":1738665603403,"duration":744},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"browser_type_launch_args","time":{"start":1738665602659,"stop":1738665602659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"browser","time":{"start":1738665603404,"stop":1738665604179,"duration":775},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"browser_type","time":{"start":1738665603404,"stop":1738665603404,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"launch_browser","time":{"start":1738665603404,"stop":1738665603404,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"connect_options","time":{"start":1738665603404,"stop":1738665603404,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"_pw_artifacts_folder","time":{"start":1738665604180,"stop":1738665604180,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"browser_context_args","time":{"start":1738665604180,"stop":1738665604180,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"browser_context_args","time":{"start":1738665604180,"stop":1738665604180,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"device","time":{"start":1738665604180,"stop":1738665604180,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"_artifacts_recorder","time":{"start":1738665783980,"stop":1738665783980,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"output_path","time":{"start":1738665783980,"stop":1738665783980,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"context","time":{"start":1738665783980,"stop":1738665784001,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"new_context","time":{"start":1738665783980,"stop":1738665783980,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"page","time":{"start":1738665784001,"stop":1738665784053,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"testStage":{"description":"This test attempts to load a SHP file through datafeeder and check links.","status":"broken","statusMessage":"playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nCall log:\n  - waiting for get_by_role(\"button\", name=\"-\", exact=True)","statusTrace":"page = <Page url='https://georchestra-127-0-0-1.nip.io/import/'>\n\n    @allure.feature(\"geOrchestra\")\n    @allure.story(\"Datafeeder\")\n    @allure.description(\"This test attempts to load a SHP file through datafeeder and check links.\")\n    @allure.title(\"Test the Datafeeder webapp and links\")\n    @pytest.mark.skipif(condition=ConfigurationManager.write_tests_disabled(), reason=\"This test is skipped because the environment variable 'tmp' is set to 'true'.\")\n    def test_import_shp_datafeeder(page: Page):\n        login(page)\n        page.goto(\"/import/\")\n        screenshot_page(page, \"datafeeder\")\n        page.locator(\"input#undefined\").first.set_input_files(os.path.abspath(\"./fixtures/antenne.zip\"))\n        page.get_by_role(\"checkbox\").check()\n        page.get_by_role(\"button\", name=\"Upload\").click()\n>       page.get_by_role(\"button\", name=\"-\", exact=True).click()\n\ntests/georchestra-base/test_ingest_data.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/playwright/sync_api/_generated.py:15464: in click\n    self._sync(\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/playwright/_impl/_locator.py:156: in click\n    return await self._frame.click(self._selector, strict=True, **params)\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/playwright/_impl/_frame.py:488: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:61: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7fcb53fed250>\ncb = <function Channel.send.<locals>.<lambda> at 0x7fcb52a25d00>\nis_internal = False\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(task, \"__pw_stack__\", inspect.stack())\n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.TimeoutError: Locator.click: Timeout 30000ms exceeded.\nE           Call log:\nE             - waiting for get_by_role(\"button\", name=\"-\", exact=True)\n\n/opt/hostedtoolcache/Python/3.11.11/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:528: TimeoutError","steps":[],"attachments":[{"uid":"ab15c0f663fe1baa","name":"datafeeder","source":"ab15c0f663fe1baa.png","type":"image/png","size":259314}],"parameters":[],"hasContent":true,"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1},"afterStages":[{"name":"new_context::0","time":{"start":1738665818761,"stop":1738665818932,"duration":171},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"_artifacts_recorder::0","time":{"start":1738665818933,"stop":1738665818936,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"_pw_artifacts_folder::0","time":{"start":1738665818937,"stop":1738665818937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"browser::0","time":{"start":1738665818938,"stop":1738665819071,"duration":133},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"playwright::0","time":{"start":1738665819073,"stop":1738665819090,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"labels":[{"name":"feature","value":"geOrchestra"},{"name":"story","value":"Datafeeder"},{"name":"tag","value":"@pytest.mark.skipif(condition=False, reason='This test is skipped because the environment variable 'tmp' is set to 'true'.')"},{"name":"parentSuite","value":"tests.georchestra-base"},{"name":"suite","value":"test_ingest_data"},{"name":"host","value":"fv-az1674-562"},{"name":"thread","value":"16958-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.georchestra-base.test_ingest_data"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"aff8e7c5b9843720","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 15000ms\n  -   - waiting for get_by_role(\"button\", name=\"Metadata record\")","time":{"start":1738665724427,"stop":1738665783301,"duration":58874}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":24,"broken":4,"skipped":0,"passed":23,"unknown":0,"total":51},"items":[{"uid":"28ff4210853377b0","reportUrl":"https://georchestra.github.io/e2e-tests/70//#testresult/28ff4210853377b0","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  -   - waiting for locator(\"pre\")","time":{"start":1738663166799,"stop":1738663222616,"duration":55817}},{"uid":"bd452808276eed1d","reportUrl":"https://georchestra.github.io/e2e-tests/69//#testresult/bd452808276eed1d","status":"passed","time":{"start":1738662486819,"stop":1738662549941,"duration":63122}},{"uid":"e0e55955588cd498","reportUrl":"https://georchestra.github.io/e2e-tests/68//#testresult/e0e55955588cd498","status":"passed","time":{"start":1738556958454,"stop":1738557022637,"duration":64183}},{"uid":"9d1d0259aa01d2bd","reportUrl":"https://georchestra.github.io/e2e-tests/67//#testresult/9d1d0259aa01d2bd","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  -   - waiting for get_by_text(\"Awesome\").first","time":{"start":1737952354213,"stop":1737952407957,"duration":53744}},{"uid":"7d9dd21763f4ee71","reportUrl":"https://georchestra.github.io/e2e-tests/66//#testresult/7d9dd21763f4ee71","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  -   - waiting for locator(\"pre\")","time":{"start":1737624907492,"stop":1737624971064,"duration":63572}},{"uid":"880ce0fc9943ec44","reportUrl":"https://georchestra.github.io/e2e-tests/65//#testresult/880ce0fc9943ec44","status":"passed","time":{"start":1737605934444,"stop":1737605985299,"duration":50855}},{"uid":"a8f851f1cca8d6c8","reportUrl":"https://georchestra.github.io/e2e-tests/64//#testresult/a8f851f1cca8d6c8","status":"passed","time":{"start":1737519462926,"stop":1737519526423,"duration":63497}},{"uid":"c7f0b4b32b9e37d4","reportUrl":"https://georchestra.github.io/e2e-tests/63//#testresult/c7f0b4b32b9e37d4","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  -   - waiting for get_by_text(\"Awesome\").first","time":{"start":1737433248629,"stop":1737433302071,"duration":53442}},{"uid":"d143c44ed6efbcec","reportUrl":"https://georchestra.github.io/e2e-tests/62//#testresult/d143c44ed6efbcec","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  -   - waiting for locator(\"pre\")","time":{"start":1737346803347,"stop":1737346858265,"duration":54918}},{"uid":"22591a56133cfae1","reportUrl":"https://georchestra.github.io/e2e-tests/61//#testresult/22591a56133cfae1","status":"passed","time":{"start":1737260231589,"stop":1737260294718,"duration":63129}},{"uid":"e837719c545b0338","reportUrl":"https://georchestra.github.io/e2e-tests/60//#testresult/e837719c545b0338","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  -   - waiting for get_by_text(\"Awesome\").first","time":{"start":1737173881687,"stop":1737173932966,"duration":51279}},{"uid":"8d0764c90213997a","reportUrl":"https://georchestra.github.io/e2e-tests/59//#testresult/8d0764c90213997a","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 15000ms\n  -   - waiting for get_by_role(\"button\", name=\"Metadata record\")","time":{"start":1737087534973,"stop":1737087589439,"duration":54466}},{"uid":"33d88a2451c5a9d6","reportUrl":"https://georchestra.github.io/e2e-tests/58//#testresult/33d88a2451c5a9d6","status":"passed","time":{"start":1737001119669,"stop":1737001173899,"duration":54230}},{"uid":"e1609303e2997487","reportUrl":"https://georchestra.github.io/e2e-tests/57//#testresult/e1609303e2997487","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  -   - waiting for get_by_text(\"Awesome\").first","time":{"start":1736914720552,"stop":1736914776865,"duration":56313}},{"uid":"a67aeaa3017d3acf","reportUrl":"https://georchestra.github.io/e2e-tests/56//#testresult/a67aeaa3017d3acf","status":"passed","time":{"start":1736828388897,"stop":1736828448267,"duration":59370}},{"uid":"aa97d58ed6c9b513","reportUrl":"https://georchestra.github.io/e2e-tests/55//#testresult/aa97d58ed6c9b513","status":"passed","time":{"start":1736742052682,"stop":1736742102594,"duration":49912}},{"uid":"f930b424e9a4c816","reportUrl":"https://georchestra.github.io/e2e-tests/54//#testresult/f930b424e9a4c816","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 15000ms\n  -   - waiting for get_by_role(\"button\", name=\"Metadata record\")","time":{"start":1736655553506,"stop":1736655607135,"duration":53629}},{"uid":"72a9f2b1c32e0ca3","reportUrl":"https://georchestra.github.io/e2e-tests/53//#testresult/72a9f2b1c32e0ca3","status":"passed","time":{"start":1736569067934,"stop":1736569131089,"duration":63155}},{"uid":"f4e373b04b15149","reportUrl":"https://georchestra.github.io/e2e-tests/52//#testresult/f4e373b04b15149","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 15000ms\n  -   - waiting for get_by_role(\"button\", name=\"Metadata record\")","time":{"start":1736482742385,"stop":1736482794892,"duration":52507}},{"uid":"51b318a85bd686a0","reportUrl":"https://georchestra.github.io/e2e-tests/51//#testresult/51b318a85bd686a0","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 15000ms\n  -   - waiting for get_by_role(\"button\", name=\"Metadata record\")","time":{"start":1736396343124,"stop":1736396396638,"duration":53514}}]},"tags":["@pytest.mark.skipif(condition=False, reason='This test is skipped because the environment variable 'tmp' is set to 'true'.')"]},"source":"a5038a9cc7bd960c.json","parameterValues":["'chromium'"]}