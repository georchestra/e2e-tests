{"uid":"7abb8d60190fbc70","name":"test_map_embedded[chromium]","fullName":"tests.geonetwork.test_embedded.TestEmbedded#test_map_embedded","historyId":"a59f06a6a22140b59ea04fbee22c19d2","time":{"start":1747216729722,"stop":1747216738927,"duration":9205},"description":"This test attempts to render a map in an embedded web-component.","descriptionHtml":"<p>This test attempts to render a map in an embedded web-component.</p>\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for get_by_label(\"Map Layer Legend\").locator(\"div\")","statusTrace":"self = <tests.geonetwork.test_embedded.TestEmbedded object at 0x7f8ad1f7f390>\npage = <Page url='http://localhost:3000/datahub-map.html'>\n\n    @allure.epic(\"Geonetwork-ui\")\n    @allure.feature(\"Web-component map embedding\")\n    @allure.description(\"This test attempts to render a map in an embedded web-component.\")\n    def test_map_embedded(self, page: Page):\n        if not TestEmbedded.metadata_imported:\n            pytest.skip(\"Metadata import test didn't run successfully\")\n    \n        page.goto(\"http://localhost:3000/datahub-map.html\")\n        page.wait_for_timeout(3000)\n        expect(page.get_by_role(\"heading\", name=\"should display html map\")).to_be_visible()\n        expect(page.locator(\"canvas\")).to_be_visible()\n>       expect(page.get_by_label(\"Map Layer Legend\").locator(\"div\")).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: <element(s) not found> \nE       Call log:\nE         - LocatorAssertions.to_be_visible with timeout 5000ms\nE         - waiting for get_by_label(\"Map Layer Legend\").locator(\"div\")\n\ntests/geonetwork/test_embedded.py:43: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"delete_output_dir","time":{"start":1747216307561,"stop":1747216307561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1747216307561,"stop":1747216307561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1747216307561,"stop":1747216307561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1747216307562,"stop":1747216307562,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1747216307562,"stop":1747216307562,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1747216307562,"stop":1747216308838,"duration":1276},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"connect_options","time":{"start":1747216308842,"stop":1747216308842,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1747216308842,"stop":1747216309345,"duration":503},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1747216308842,"stop":1747216308842,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1747216308842,"stop":1747216308842,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1747216309345,"stop":1747216309345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder","time":{"start":1747216309345,"stop":1747216309346,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1747216309346,"stop":1747216309346,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1747216309346,"stop":1747216309346,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder","time":{"start":1747216729619,"stop":1747216729619,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"new_context","time":{"start":1747216729619,"stop":1747216729619,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"output_path","time":{"start":1747216729619,"stop":1747216729619,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1747216729620,"stop":1747216729650,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1747216729650,"stop":1747216729721,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"afterStages":[{"name":"new_context::0","time":{"start":1747216738930,"stop":1747216738995,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder::0","time":{"start":1747216738996,"stop":1747216738996,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder::0","time":{"start":1747216758326,"stop":1747216758326,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1747216758327,"stop":1747216758513,"duration":186},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1747216758515,"stop":1747216758531,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"Web-component map embedding"},{"name":"epic","value":"Geonetwork-ui"},{"name":"tag","value":"@pytest.mark.skipif(condition=False, reason='Write tests are disabled')"},{"name":"parentSuite","value":"tests.geonetwork"},{"name":"suite","value":"test_embedded"},{"name":"subSuite","value":"TestEmbedded"},{"name":"host","value":"pkrvmberfyhpb9w"},{"name":"thread","value":"18525-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.geonetwork.test_embedded"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c6c012d01a470597","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for get_by_label(\"Map Layer Legend\").locator(\"div\")","time":{"start":1747216719871,"stop":1747216729525,"duration":9654}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"98bd3128f51eca2a","reportUrl":"https://georchestra.github.io/e2e-tests/119//#testresult/98bd3128f51eca2a","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for get_by_label(\"Map Layer Legend\").locator(\"div\")","time":{"start":1747215195333,"stop":1747215204349,"duration":9016}}]},"tags":["@pytest.mark.skipif(condition=False, reason='Write tests are disabled')"]},"source":"7abb8d60190fbc70.json","parameterValues":["'chromium'"]}