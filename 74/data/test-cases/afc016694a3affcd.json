{"uid":"afc016694a3affcd","name":"Test the GeoNetwork webapp","fullName":"tests.georchestra-base.test_01_check_apps_init#test_geo_network_webapp","historyId":"e3deffffe71554dd5700d77614f30125","time":{"start":1738666650464,"stop":1738666694741,"duration":44277},"description":"This test attempts to load every GeoNetwork wro4j.","descriptionHtml":"<p>This test attempts to load every GeoNetwork wro4j.</p>\n","status":"failed","statusMessage":"AssertionError: Locator expected to contain text 'Harvesting'\nActual value: \n      catalogueviewerappsservicesimport|administrationcatalogueviewerusersTest ADMINlogoutTest ADMINlogout\n      \n      \n      \n      \n      \n \nCall log:\n  - LocatorAssertions.to_contain_text with timeout 20000ms\n  -   - waiting for locator(\"body\")\n  -     23 × locator resolved to <body data-ng-controller=\"GnCatController\" data-ng-class=\"[isHeaderFixed ? 'gn-header-fixed' : 'gn-header-relative', isLogoInHeader ? 'gn-logo-in-header' : 'gn-logo-in-navbar', isFooterEnabled ? 'gn-show-footer' : 'gn-hide-footer']\">…</body>\n  -        - unexpected value \"\n      catalogueviewerappsservicesimport|administrationcatalogueviewerusersTest ADMINlogoutTest ADMINlogout\n      \n      \n      \n      \n      \n\"","statusTrace":"page = <Page url='https://georchestra-127-0-0-1.nip.io/geonetwork/srv/eng/admin.console#/home'>\n\n    @allure.epic(\"Web interface\")\n    @allure.feature(\"geOrchestra\")\n    @allure.story(\"GeoNetwork\")\n    @allure.description(\"This test attempts to load every GeoNetwork wro4j.\")\n    @allure.title(\"Test the GeoNetwork webapp\")\n    @pytest.mark.flaky(reruns=5)\n    def test_geo_network_webapp(page: Page):\n        login(page)\n        #Search page\n        page.goto(\"/geonetwork/srv/eng/catalog.search\")\n        expect(page.get_by_role(\"combobox\", name=\"Search\")).to_be_visible(timeout=20000)\n        screenshot_page(page,\"geonetwork search\")\n        #Editor page\n        page.goto(\"/geonetwork/srv/eng/catalog.edit#/board?from=1&to=30\")\n        expect(page.get_by_role(\"link\", name=\"+ Add new record\")).to_be_visible(timeout=20000)\n        screenshot_page(page,\"geonetwork editor\")\n        #admin page\n        page.goto(\"/geonetwork/srv/eng/admin.console#/home\")\n>       expect(page.locator(\"body\")).to_contain_text(expected=\"Harvesting\", timeout=20000)\nE       AssertionError: Locator expected to contain text 'Harvesting'\nE       Actual value: \nE             catalogueviewerappsservicesimport|administrationcatalogueviewerusersTest ADMINlogoutTest ADMINlogout\nE             \nE             \nE             \nE             \nE             \nE        \nE       Call log:\nE         - LocatorAssertions.to_contain_text with timeout 20000ms\nE         -   - waiting for locator(\"body\")\nE         -     23 × locator resolved to <body data-ng-controller=\"GnCatController\" data-ng-class=\"[isHeaderFixed ? 'gn-header-fixed' : 'gn-header-relative', isLogoInHeader ? 'gn-logo-in-header' : 'gn-logo-in-navbar', isFooterEnabled ? 'gn-show-footer' : 'gn-hide-footer']\">…</body>\nE         -        - unexpected value \"\nE             catalogueviewerappsservicesimport|administrationcatalogueviewerusersTest ADMINlogoutTest ADMINlogout\nE             \nE             \nE             \nE             \nE             \nE       \"\n\ntests/georchestra-base/test_01_check_apps_init.py:28: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1738666567215,"stop":1738666567215,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1738666567215,"stop":1738666567215,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1738666567215,"stop":1738666567215,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1738666567215,"stop":1738666567216,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1738666567216,"stop":1738666567216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1738666567216,"stop":1738666568416,"duration":1200},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1738666568417,"stop":1738666568417,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"connect_options","time":{"start":1738666568417,"stop":1738666568417,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1738666568417,"stop":1738666569154,"duration":737},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1738666568417,"stop":1738666568417,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder","time":{"start":1738666569155,"stop":1738666569155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1738666569155,"stop":1738666569155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1738666569155,"stop":1738666569155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1738666569155,"stop":1738666569155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"output_path","time":{"start":1738666650320,"stop":1738666650320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder","time":{"start":1738666650321,"stop":1738666650321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"new_context","time":{"start":1738666650321,"stop":1738666650321,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1738666650327,"stop":1738666650376,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1738666650376,"stop":1738666650463,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"This test attempts to load every GeoNetwork wro4j.","status":"failed","statusMessage":"AssertionError: Locator expected to contain text 'Harvesting'\nActual value: \n      catalogueviewerappsservicesimport|administrationcatalogueviewerusersTest ADMINlogoutTest ADMINlogout\n      \n      \n      \n      \n      \n \nCall log:\n  - LocatorAssertions.to_contain_text with timeout 20000ms\n  -   - waiting for locator(\"body\")\n  -     23 × locator resolved to <body data-ng-controller=\"GnCatController\" data-ng-class=\"[isHeaderFixed ? 'gn-header-fixed' : 'gn-header-relative', isLogoInHeader ? 'gn-logo-in-header' : 'gn-logo-in-navbar', isFooterEnabled ? 'gn-show-footer' : 'gn-hide-footer']\">…</body>\n  -        - unexpected value \"\n      catalogueviewerappsservicesimport|administrationcatalogueviewerusersTest ADMINlogoutTest ADMINlogout\n      \n      \n      \n      \n      \n\"","statusTrace":"page = <Page url='https://georchestra-127-0-0-1.nip.io/geonetwork/srv/eng/admin.console#/home'>\n\n    @allure.epic(\"Web interface\")\n    @allure.feature(\"geOrchestra\")\n    @allure.story(\"GeoNetwork\")\n    @allure.description(\"This test attempts to load every GeoNetwork wro4j.\")\n    @allure.title(\"Test the GeoNetwork webapp\")\n    @pytest.mark.flaky(reruns=5)\n    def test_geo_network_webapp(page: Page):\n        login(page)\n        #Search page\n        page.goto(\"/geonetwork/srv/eng/catalog.search\")\n        expect(page.get_by_role(\"combobox\", name=\"Search\")).to_be_visible(timeout=20000)\n        screenshot_page(page,\"geonetwork search\")\n        #Editor page\n        page.goto(\"/geonetwork/srv/eng/catalog.edit#/board?from=1&to=30\")\n        expect(page.get_by_role(\"link\", name=\"+ Add new record\")).to_be_visible(timeout=20000)\n        screenshot_page(page,\"geonetwork editor\")\n        #admin page\n        page.goto(\"/geonetwork/srv/eng/admin.console#/home\")\n>       expect(page.locator(\"body\")).to_contain_text(expected=\"Harvesting\", timeout=20000)\nE       AssertionError: Locator expected to contain text 'Harvesting'\nE       Actual value: \nE             catalogueviewerappsservicesimport|administrationcatalogueviewerusersTest ADMINlogoutTest ADMINlogout\nE             \nE             \nE             \nE             \nE             \nE        \nE       Call log:\nE         - LocatorAssertions.to_contain_text with timeout 20000ms\nE         -   - waiting for locator(\"body\")\nE         -     23 × locator resolved to <body data-ng-controller=\"GnCatController\" data-ng-class=\"[isHeaderFixed ? 'gn-header-fixed' : 'gn-header-relative', isLogoInHeader ? 'gn-logo-in-header' : 'gn-logo-in-navbar', isFooterEnabled ? 'gn-show-footer' : 'gn-hide-footer']\">…</body>\nE         -        - unexpected value \"\nE             catalogueviewerappsservicesimport|administrationcatalogueviewerusersTest ADMINlogoutTest ADMINlogout\nE             \nE             \nE             \nE             \nE             \nE       \"\n\ntests/georchestra-base/test_01_check_apps_init.py:28: AssertionError","steps":[],"attachments":[{"uid":"970dd2b5830a849d","name":"geonetwork search","source":"970dd2b5830a849d.png","type":"image/png","size":46021},{"uid":"e40a91f8343c59f6","name":"geonetwork editor","source":"e40a91f8343c59f6.png","type":"image/png","size":49861}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true},"afterStages":[{"name":"new_context::0","time":{"start":1738666694745,"stop":1738666695043,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder::0","time":{"start":1738666695043,"stop":1738666695045,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder::0","time":{"start":1738666730541,"stop":1738666730541,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1738666730542,"stop":1738666730665,"duration":123},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1738666730669,"stop":1738666730691,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"feature","value":"geOrchestra"},{"name":"epic","value":"Web interface"},{"name":"story","value":"GeoNetwork"},{"name":"tag","value":"flaky(reruns=5)"},{"name":"parentSuite","value":"tests.georchestra-base"},{"name":"suite","value":"test_01_check_apps_init"},{"name":"host","value":"fv-az1361-283"},{"name":"thread","value":"16672-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.georchestra-base.test_01_check_apps_init"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["flaky(reruns=5)"]},"source":"afc016694a3affcd.json","parameterValues":["'chromium'"]}