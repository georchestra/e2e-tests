{"uid":"abb84f600a4911bd","name":"test_map_embedded[chromium]","fullName":"tests.geonetwork.test_embedded.TestEmbedded#test_map_embedded","historyId":"a59f06a6a22140b59ea04fbee22c19d2","time":{"start":1747639342633,"stop":1747639352447,"duration":9814},"description":"This test attempts to render a map in an embedded web-component.","descriptionHtml":"<p>This test attempts to render a map in an embedded web-component.</p>\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: hidden \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\"canvas\")\n    9 × locator resolved to <canvas width=\"0\" height=\"0\"></canvas>\n      - unexpected value \"hidden\"","statusTrace":"self = <tests.geonetwork.test_embedded.TestEmbedded object at 0x7f816c0dbe10>\npage = <Page url='http://localhost:3000/datahub-map.html'>\n\n    @allure.epic(\"Geonetwork-ui\")\n    @allure.feature(\"Web-component map embedding\")\n    @allure.description(\"This test attempts to render a map in an embedded web-component.\")\n    def test_map_embedded(self, page: Page):\n        if not TestEmbedded.metadata_imported:\n            pytest.skip(\"Metadata import test didn't run successfully\")\n    \n        page.goto(\"http://localhost:3000/datahub-map.html\")\n        page.wait_for_timeout(3000)\n        expect(page.get_by_role(\"heading\", name=\"should display html map\")).to_be_visible()\n>       expect(page.locator(\"canvas\")).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: hidden \nE       Call log:\nE         - LocatorAssertions.to_be_visible with timeout 5000ms\nE         - waiting for locator(\"canvas\")\nE           9 × locator resolved to <canvas width=\"0\" height=\"0\"></canvas>\nE             - unexpected value \"hidden\"\n\ntests/geonetwork/test_embedded.py:44: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1747638804180,"stop":1747638804180,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1747638804180,"stop":1747638804180,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1747638804181,"stop":1747638804181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1747638804181,"stop":1747638804181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1747638804181,"stop":1747638805453,"duration":1272},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1747638804181,"stop":1747638804181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1747638805454,"stop":1747638805454,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1747638805454,"stop":1747638805454,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1747638805454,"stop":1747638805454,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1747638805454,"stop":1747638808769,"duration":3315},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1747638808769,"stop":1747638808770,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1747638808769,"stop":1747638808769,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1747638808770,"stop":1747638808770,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1747638808770,"stop":1747638808770,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1747639342550,"stop":1747639342550,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1747639342550,"stop":1747639342551,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1747639342551,"stop":1747639342551,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1747639342551,"stop":1747639342576,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1747639342576,"stop":1747639342633,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"new_context::0","time":{"start":1747639352454,"stop":1747639352602,"duration":148},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1747639352602,"stop":1747639352603,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1747639373207,"stop":1747639373208,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1747639373209,"stop":1747639373715,"duration":506},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1747639373719,"stop":1747639373744,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Geonetwork-ui"},{"name":"feature","value":"Web-component map embedding"},{"name":"tag","value":"@pytest.mark.skipif(condition=False, reason='Write tests are disabled')"},{"name":"parentSuite","value":"tests.geonetwork"},{"name":"suite","value":"test_embedded"},{"name":"subSuite","value":"TestEmbedded"},{"name":"host","value":"pkrvmf6wy0o8zjz"},{"name":"thread","value":"18145-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.geonetwork.test_embedded"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b5f2c5b85357de","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: hidden \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\"canvas\")\n    9 × locator resolved to <canvas width=\"0\" height=\"0\"></canvas>\n      - unexpected value \"hidden\"","time":{"start":1747639332627,"stop":1747639342418,"duration":9791}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":0,"skipped":15,"passed":1,"unknown":0,"total":21},"items":[{"uid":"2423d222da6c11e9","reportUrl":"https://georchestra.github.io/e2e-tests/143//#testresult/2423d222da6c11e9","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747639363379,"stop":1747639363383,"duration":4}},{"uid":"53d7e06b8e3e35f","reportUrl":"https://georchestra.github.io/e2e-tests/136//#testresult/53d7e06b8e3e35f","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747639329751,"stop":1747639329751,"duration":0}},{"uid":"2b00a6e4e149d11","reportUrl":"https://georchestra.github.io/e2e-tests/138//#testresult/2b00a6e4e149d11","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747639303020,"stop":1747639303020,"duration":0}},{"uid":"d8ba34dfb226e4e2","reportUrl":"https://georchestra.github.io/e2e-tests/135//#testresult/d8ba34dfb226e4e2","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747639117062,"stop":1747639117062,"duration":0}},{"uid":"563639022f5ecdcb","reportUrl":"https://georchestra.github.io/e2e-tests/134//#testresult/563639022f5ecdcb","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747630765661,"stop":1747630765661,"duration":0}},{"uid":"84bd02f09671a039","reportUrl":"https://georchestra.github.io/e2e-tests/133//#testresult/84bd02f09671a039","status":"passed","time":{"start":1747630722179,"stop":1747630728853,"duration":6674}},{"uid":"9a7811f5e3836d87","reportUrl":"https://georchestra.github.io/e2e-tests/132//#testresult/9a7811f5e3836d87","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747629849613,"stop":1747629849614,"duration":1}},{"uid":"b992af4bf4137f38","reportUrl":"https://georchestra.github.io/e2e-tests/131//#testresult/b992af4bf4137f38","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747539663565,"stop":1747539663565,"duration":0}},{"uid":"da9b046dcbc76509","reportUrl":"https://georchestra.github.io/e2e-tests/130//#testresult/da9b046dcbc76509","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747539633582,"stop":1747539633582,"duration":0}},{"uid":"2e0b0bcd2a999fe2","reportUrl":"https://georchestra.github.io/e2e-tests/128//#testresult/2e0b0bcd2a999fe2","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747405183119,"stop":1747405183120,"duration":1}},{"uid":"db4968ea552b0f2f","reportUrl":"https://georchestra.github.io/e2e-tests/129//#testresult/db4968ea552b0f2f","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747405058389,"stop":1747405058392,"duration":3}},{"uid":"31cca14b33ad6a85","reportUrl":"https://georchestra.github.io/e2e-tests/127//#testresult/31cca14b33ad6a85","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\"canvas\")","time":{"start":1747404885588,"stop":1747404894469,"duration":8881}},{"uid":"e07addeaaac41bbf","reportUrl":"https://georchestra.github.io/e2e-tests/126//#testresult/e07addeaaac41bbf","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: hidden \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\"canvas\")\n    9 × locator resolved to <canvas width=\"0\" height=\"0\"></canvas>\n      - unexpected value \"hidden\"","time":{"start":1747403827311,"stop":1747403837045,"duration":9734}},{"uid":"9595f731ed8aa6ba","reportUrl":"https://georchestra.github.io/e2e-tests/125//#testresult/9595f731ed8aa6ba","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747228267129,"stop":1747228267130,"duration":1}},{"uid":"38da1267bc19b2b5","reportUrl":"https://georchestra.github.io/e2e-tests/124//#testresult/38da1267bc19b2b5","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747226748048,"stop":1747226748048,"duration":0}},{"uid":"ea34e2b6e4ea87d9","reportUrl":"https://georchestra.github.io/e2e-tests/123//#testresult/ea34e2b6e4ea87d9","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747225329279,"stop":1747225329280,"duration":1}},{"uid":"cf6046a2bc8d1692","reportUrl":"https://georchestra.github.io/e2e-tests/122//#testresult/cf6046a2bc8d1692","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747225195260,"stop":1747225195261,"duration":1}},{"uid":"66fa2be464a178b7","reportUrl":"https://georchestra.github.io/e2e-tests/121//#testresult/66fa2be464a178b7","status":"skipped","statusDetails":"Skipped: Metadata import test didn't run successfully","time":{"start":1747223948997,"stop":1747223948998,"duration":1}},{"uid":"7abb8d60190fbc70","reportUrl":"https://georchestra.github.io/e2e-tests/120//#testresult/7abb8d60190fbc70","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for get_by_label(\"Map Layer Legend\").locator(\"div\")","time":{"start":1747216729722,"stop":1747216738927,"duration":9205}},{"uid":"98bd3128f51eca2a","reportUrl":"https://georchestra.github.io/e2e-tests/119//#testresult/98bd3128f51eca2a","status":"failed","statusDetails":"AssertionError: Locator expected to be visible\nActual value: <element(s) not found> \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for get_by_label(\"Map Layer Legend\").locator(\"div\")","time":{"start":1747215195333,"stop":1747215204349,"duration":9016}}]},"tags":["@pytest.mark.skipif(condition=False, reason='Write tests are disabled')"]},"source":"abb84f600a4911bd.json","parameterValues":["'chromium'"]}