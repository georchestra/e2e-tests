{"uid":"b5f2c5b85357de","name":"test_map_embedded[chromium]","fullName":"tests.geonetwork.test_embedded.TestEmbedded#test_map_embedded","historyId":"a59f06a6a22140b59ea04fbee22c19d2","time":{"start":1747639332627,"stop":1747639342418,"duration":9791},"description":"This test attempts to render a map in an embedded web-component.","descriptionHtml":"<p>This test attempts to render a map in an embedded web-component.</p>\n","status":"failed","statusMessage":"AssertionError: Locator expected to be visible\nActual value: hidden \nCall log:\n  - LocatorAssertions.to_be_visible with timeout 5000ms\n  - waiting for locator(\"canvas\")\n    9 × locator resolved to <canvas width=\"0\" height=\"0\"></canvas>\n      - unexpected value \"hidden\"","statusTrace":"self = <tests.geonetwork.test_embedded.TestEmbedded object at 0x7f816c0dbe10>\npage = <Page url='http://localhost:3000/datahub-map.html'>\n\n    @allure.epic(\"Geonetwork-ui\")\n    @allure.feature(\"Web-component map embedding\")\n    @allure.description(\"This test attempts to render a map in an embedded web-component.\")\n    def test_map_embedded(self, page: Page):\n        if not TestEmbedded.metadata_imported:\n            pytest.skip(\"Metadata import test didn't run successfully\")\n    \n        page.goto(\"http://localhost:3000/datahub-map.html\")\n        page.wait_for_timeout(3000)\n        expect(page.get_by_role(\"heading\", name=\"should display html map\")).to_be_visible()\n>       expect(page.locator(\"canvas\")).to_be_visible()\nE       AssertionError: Locator expected to be visible\nE       Actual value: hidden \nE       Call log:\nE         - LocatorAssertions.to_be_visible with timeout 5000ms\nE         - waiting for locator(\"canvas\")\nE           9 × locator resolved to <canvas width=\"0\" height=\"0\"></canvas>\nE             - unexpected value \"hidden\"\n\ntests/geonetwork/test_embedded.py:44: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1747638804180,"stop":1747638804180,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1747638804180,"stop":1747638804180,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1747638804181,"stop":1747638804181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1747638804181,"stop":1747638804181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1747638804181,"stop":1747638805453,"duration":1272},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1747638804181,"stop":1747638804181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1747638805454,"stop":1747638805454,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1747638805454,"stop":1747638805454,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1747638805454,"stop":1747638805454,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1747638805454,"stop":1747638808769,"duration":3315},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1747638808769,"stop":1747638808770,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1747638808769,"stop":1747638808769,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1747638808770,"stop":1747638808770,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1747638808770,"stop":1747638808770,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1747639332533,"stop":1747639332534,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1747639332534,"stop":1747639332534,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1747639332534,"stop":1747639332563,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1747639332534,"stop":1747639332534,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1747639332563,"stop":1747639332627,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"new_context::0","time":{"start":1747639342423,"stop":1747639342545,"duration":122},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1747639342545,"stop":1747639342546,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1747639373207,"stop":1747639373208,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1747639373209,"stop":1747639373715,"duration":506},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1747639373719,"stop":1747639373744,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"epic","value":"Geonetwork-ui"},{"name":"feature","value":"Web-component map embedding"},{"name":"tag","value":"@pytest.mark.skipif(condition=False, reason='Write tests are disabled')"},{"name":"parentSuite","value":"tests.geonetwork"},{"name":"suite","value":"test_embedded"},{"name":"subSuite","value":"TestEmbedded"},{"name":"host","value":"pkrvmf6wy0o8zjz"},{"name":"thread","value":"18145-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.geonetwork.test_embedded"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["@pytest.mark.skipif(condition=False, reason='Write tests are disabled')"]},"source":"b5f2c5b85357de.json","parameterValues":["'chromium'"]}